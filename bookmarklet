javascript:(function()%7Bvar%20gameStats%20%3D%20%5B%5D%3Bvar%20gameHashesRecorded%20%3D%20%5B%5D%3Bfunction%20parse_game_stats()%7Blet%20game%20%3D%20%7B%7D%3Blet%20scoreboard%20%3D%20document.getElementsByClassName(%22scoreboard-view%22)%5B0%5D%3Blet%20level_row%20%3D%20scoreboard.children%5B0%5D%3Bgame%5B'game_type'%5D%20%3D%20level_row.children%5B1%5D.children%5B0%5D.textContent%3Bgame%5B'level_name'%5D%20%3D%20level_row.children%5B0%5D.children%5B0%5D.textContent%3Bgame%5B'scores'%5D%20%3D%20%5B%5D%3Blet%20winning_score%20%3D%200%3Blet%20has_nonzero_score%20%3D%20false%3Blet%20team_game%20%3D%20(game.game_type%20%3D%3D%20%22Team%20Deathmatch%22)%3Blet%20teams%20%3D%20%5B%5B%5D%2C%5B%5D%5D%3Bscoreboard.children%5B1%5D.childNodes.forEach(function(stat_row%2C%20i)%7Bstat_row.childNodes.forEach(function(stats%2C%20j)%7Bif(j%20%3E%3D%201)%7Blet%20name%20%3D%20stats.children%5B0%5D.children%5B1%5D.textContent%3Blet%20score%20%3D%20stats.children%5B1%5D.textContent%3Blet%20kills%20%3D%20stats.children%5B2%5D.textContent%3Blet%20deaths%20%3D%20stats.children%5B3%5D.textContent%3Bif(score%20!%3D%200)%7Bhas_nonzero_score%20%3D%20true%3B%7Dif(score%20!%3D%20%22%22)%7Bgame%5B'scores'%5D.push(%7Bname%2C%20score%2C%20kills%2C%20deaths%7D)%3Bteams%5Bi%5D.push(name)%3Bif(j%20%3D%3D%201)%7Bgame%5B'winner'%5D%20%3D%20name%3Bwinning_score%20%3D%20score%3B%7Dif(j%20%3E%201%20%26%26%20score%20%3D%3D%20winning_score)%7Bgame%5B'winner'%5D%20%3D%20game%5B'winner'%5D%20%2B%20%22%20-%20TIE%20-%20%22%20%2B%20name%3B%7D%7D%7D%7D)%3B%7D)%3Bif%20(team_game)%20%7Blet%20team_one_score%20%3D%20document.querySelector('%5Bdata-hook%3Dteam1-score%5D').textContent%3Blet%20team_one_name%20%3D%20teams%5B0%5D.reduce(function(prev%2C%20curr)%7Breturn%20prev%20%2B%20'%20'%20%2B%20curr%7D%2C'Team%3A%20')%3Blet%20team_two_name%20%3D%20teams%5B1%5D.reduce(function(prev%2C%20curr)%7Breturn%20prev%20%2B%20'%20'%20%2B%20curr%7D%2C'Team%3A%20')%3Blet%20team_two_score%20%3D%20document.querySelector('%5Bdata-hook%3Dteam2-score%5D').textContent%3Bif%20(team_one_score%20%3E%20team_two_score)%7Bgame%5B'winner'%5D%20%3D%20team_one_name%3B%7D%3Bif%20(team_one_score%20%3C%20team_two_score)%20%7Bgame%5B'winner'%5D%20%3D%20team_two_name%3B%7D%3Bif%20(team_one_score%20%3D%3D%20team_two_score)%20%7Bgame%5B'winner'%5D%20%3D%20team_one_name%20%2B%20%22%20-%20TIE%20-%20%22%20%2B%20team_two_score%3B%7D%3B%7D%3Blet%20gameHash%20%3D%20JSON.stringify(game)%3Bif(gameHashesRecorded.indexOf(gameHash)%20%3D%3D%20-1%20%26%26%20game.scores.length%20%3E%201%20%26%26%20has_nonzero_score)%20%7Bconsole.log(%22Pushing%20new%20game%20to%20our%20array.%22)%3BgameHashesRecorded.push(gameHash)%3BgameStats.push(game)%3B%7D%7D%3Bfunction%20compile_game_stats()%20%7Blet%20gamestr%20%3D%20format_games_string(gameStats)%3Blet%20winners%20%3D%20calculate_winners(gameStats)%3Blet%20slackstr%20%3D%20format_slack_string(gameStats.length%2C%20winners%2C%20gamestr)%3Bsend_slack_message(slackstr)%3Breturn%20%22Check%20slack%20if%20your%20games%20have%20saved!%20If%20not%20run%20'compile_game_stats()'%20in%20your%20console.%22%3B%7D%3Bfunction%20format_games_string(stats)%20%7B%2F*%20assume%20no%20score%2Fkills%2Fdeaths%20%3E%209999%20*%2Flet%20gamestr%20%3D%20%22%22%3Blet%20margin%20%3D%202%3Blet%20longest_name_length%20%3D%20stats.flatMap((game)%20%3D%3E%20game.scores.map((score)%20%3D%3E%20score.name)).reduce((acc%2C%20b)%20%3D%3E%20Math.max(acc%2C%20b.length%2C%200)%2C%200)%3Bstats.forEach(function(game)%20%7Bgamestr%20%2B%3D%20game.level_name%20%2B%20%22%20-%20%22%20%2B%20game.game_type%20%2B%20%22%5Cn%22%3Bgamestr%20%2B%3D%20%22Name%22%20%2B%20spaces(longest_name_length%20-%204%20%2B%20margin)%20%2B%20%22score%20%20kills%20%20deaths%5Cn%22%3Bgame.scores.forEach(function(score)%20%7Bgamestr%20%2B%3D%20score.name%2B%20spaces(longest_name_length%20-%20score.name.length%20%2B%20margin)%2B%20right_align(%22score%22%2C%20score.score)%2B%20spaces(margin)%2B%20right_align(%22kills%22%2C%20score.kills)%2B%20spaces(margin)%2B%20right_align(%22deaths%22%2C%20score.deaths)%2B%20%22%5Cn%22%3B%7D)%3Bgamestr%20%2B%3D%20%22%5Cn%22%3B%7D)%3Breturn%20gamestr%3B%7D%3Bfunction%20spaces(number)%20%7Bif%20(number%20%3C%20-1)%20%7Bnumber%20%3D%20-1%3B%7Dreturn%20new%20Array(number%20%2B%201).join(%22%20%22)%3B%7D%3Bfunction%20right_align(header_name%2C%20data)%20%7Breturn%20spaces(header_name.length%20-%20data.length)%20%2B%20data%3B%7D%3Bfunction%20calculate_winners(stats)%20%7Blet%20winners%20%3D%20%7B%7D%3Bstats.forEach(function(game)%20%7Bif(game.winner%20in%20winners)%7Bwinners%5Bgame.winner%5D%2B%2B%3B%7Delse%7Bwinners%5Bgame.winner%5D%20%3D%201%3B%7D%7D)%3Breturn%20winners%3B%7D%3Bfunction%20format_slack_string(num_games%2C%20winners%2C%20gamestr)%20%7Blet%20slackstr%20%3D%20%22%60%60%60%5Cn%22%3Bslackstr%20%2B%3D%20%22Total%20games%3A%20%22%20%2B%20num_games%20%2B%20%22%5CnWinners%3A%5Cn%22%3Bfor%20(player_name%20in%20winners)%20%7Bslackstr%20%2B%3D%20%22%5Ct%22%20%2B%20player_name%20%2B%20%22%5Ct%22%20%2B%20winners%5Bplayer_name%5D%20%2B%20%22%5Cn%22%3B%7D%3Bslackstr%20%2B%3D%20%22%5Cn%22%20%2B%20gamestr%20%2B%20%22%5Cn%60%60%60%22%3Breturn%20slackstr%3B%7D%3B%2F**%20Change%20the%20channel%2C%20username%20and%20target%20URLs%20in%20the%20following%20block*%20to%20match%20your%20desired%20slack%20channel%2Fuser%2Fetc*%2Ffunction%20send_slack_message(message)%20%7Blet%20payload%20%3D%20%7Bchannel%3A%20%22example_channel%22%2Cusername%3A%20%22example_user%22%2Ctext%3A%20message%2Cicon_emoji%3A%20%22%3Afeelsgood%3A%22%7D%3Bfetch(%2F*%20TARGET%20URL%20GOES%20HERE%20FORMATTED%20AS%20STRING%22https%3A%2F%2Fexample.foo%2Fbar%22%20*%2F%7Bmethod%3A%20%22POST%22%2Cbody%3A%20JSON.stringify(payload)%7D)%3B%7D%3BtestGameStats%20%3D%20%5B%7B%22game_type%22%3A%20%22Deathmatch%22%2C%22level_name%22%3A%20%22Random%20Dirt%22%2C%22scores%22%3A%20%5B%7B%22name%22%3A%20%22%5BFeDonkey%5DMorgoth%22%2C%22score%22%3A%20%227%22%2C%22kills%22%3A%20%227%22%2C%22deaths%22%3A%20%226%22%7D%2C%7B%22name%22%3A%20%22%5BFeDonkey%5D%20deadbeef%22%2C%22score%22%3A%20%223%22%2C%22kills%22%3A%20%226%22%2C%22deaths%22%3A%20%2210%22%7D%2C%5D%2C%22winner%22%3A%20%22%5BFeDonkey%5DMorgoth%22%7D%5D%3B%2F*%20console.log(format_games_string(testGameStats))%3B%20*%2Ffunction%20createButton(label%2C%20handler)%20%7Bvar%20button%20%3D%20document.createElement(%22button%22)%3Bbutton.innerHTML%20%3D%20label%3Bbutton.onclick%20%3D%20handler%3Bbutton.style%20%3D%20%22display%3A%20inline-block%3B%20font-size%3A%2024px%3B%20padding%3A%2020px%3B%20background-color%3A%20yellow%3B%22%3Breturn%20button%3B%7D%3Bfunction%20createButtonArray(buttons)%20%7Blet%20div%20%3D%20document.createElement(%22div%22)%3Bdiv.style%20%3D%20%22position%3A%20fixed%3B%20bottom%3A%200%3B%20right%3A%200%3B%20z-index%3A%20999%3B%22%3Bfor%20(var%20label%20in%20buttons)%20%7Bdiv.appendChild(createButton(label%2C%20buttons%5Blabel%5D))%7D%3Breturn%20div%3B%7D%3Blet%20buttonDiv%20%3D%20createButtonArray(%7Bdebug%3A%20function()%20%7Bconsole.log(%22gameStats%22%2C%20gameStats)%3Bconsole.log(%22gameHashesRecorded%22%2C%20gameHashesRecorded)%3Blet%20gamestr%20%3D%20format_games_string(gameStats)%3Blet%20winners%20%3D%20calculate_winners(gameStats)%3Blet%20slackstr%20%3D%20format_slack_string(gameStats.length%2C%20winners%2C%20gamestr)%3Bconsole.log(%22gamestr%22%2C%20gamestr)%3Bconsole.log(%22winners%22%2C%20winners)%3Bconsole.log(%22slackstr%22%2C%20slackstr)%3B%7D%2C%22send%20it%22%3A%20compile_game_stats%7D)%3Bdocument.body.appendChild(buttonDiv)%3Bwindow.onbeforeunload%20%3D%20compile_game_stats%3BsetInterval(parse_game_stats%2C%205000)%7D)()